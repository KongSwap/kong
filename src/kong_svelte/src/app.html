<!doctype html>
<html lang="en" data-theme-initializing="true">
  <head>
    <!-- Google Tag Manager -->
    <script>
      (function (w, d, s, l, i) {
        w[l] = w[l] || [];
        w[l].push({ "gtm.start": new Date().getTime(), event: "gtm.js" });
        var f = d.getElementsByTagName(s)[0],
          j = d.createElement(s),
          dl = l != "dataLayer" ? "&l=" + l : "";
        j.async = true;
        j.src = "https://www.googletagmanager.com/gtm.js?id=" + i + dl;
        f.parentNode.insertBefore(j, f);
      })(window, document, "script", "dataLayer", "GTM-5QP57VNQ");
    </script>
    <!-- End Google Tag Manager -->
    <meta charset="utf-8" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
    <link rel="manifest" href="/site.webmanifest" />
    <link rel="icon" href="/favicon.ico" />
    <meta name="viewport" content="width=device-width" />
    <meta name="theme-color" content="#0E111B" />
    <!-- Title and description will be set by SvelteKit -->
    <meta
      name="keywords"
      content="kongswap, kong swap, icp dex, internet computer defi, icp amm, automated market maker, liquidity pools, icp prediction market, dfinity dex, internet computer exchange, icp trading, swap icp tokens, icrc tokens, ckbtc, cketh, ckusdt, decentralized exchange, web3 dex, icp liquidity, yield farming icp"
    />
    <meta name="author" content="KongSwap" />
    <meta name="robots" content="index, follow" />
    <meta name="yandex-verification" content="d943ce9c11eb25d8" />

    %sveltekit.head%
  </head>
      <!-- Inline Theme Initialization - Fast loading -->
      <script>
        (function () {
          // Try to load theme from localStorage
          let initialTheme = null;
          let themeColorScheme = null;
          
          try {
            const storedThemeJson = localStorage.getItem("theme");
            if (storedThemeJson) {
              initialTheme = JSON.parse(storedThemeJson);
              
              // Map known themes to their color schemes
              const themeColorSchemes = {
                'dark': 'dark',
                'light': 'light',
                'plain-black': 'dark',
                'nord': 'dark',
                'modern-light': 'light',
                'microswap': 'dark',
                'synthwave': 'dark',
                'dragginz': 'dark'
              };
              
              themeColorScheme = themeColorSchemes[initialTheme] || 'dark';
            }
          } catch (e) {
            console.error("Error loading theme:", e);
          }
  
          // Check system preference if no theme found
          if (!initialTheme) {
            const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
            initialTheme = prefersDark ? "dark" : "light";
            themeColorScheme = initialTheme;
          }
  
          // Apply the color scheme class (light/dark) not the theme ID
          document.documentElement.classList.add(themeColorScheme);
          
          // Also add the theme ID class for more specific targeting
          document.documentElement.classList.add(`theme-${initialTheme}`);
  
          // Add basic inline styles to prevent flash based on color scheme
          const style = document.createElement("style");
          style.textContent = `
            body { 
              background-color: rgb(var(--bg-primary, ${themeColorScheme === "dark" ? "9 12 23" : "245 247 250"})); 
              color: rgb(var(--text-primary, ${themeColorScheme === "dark" ? "255 255 255" : "17 24 39"})); 
              transition: background-color 0.2s ease-in-out;
            }
          `;
          document.head.appendChild(style);
        })();
      </script>
  
      <!-- Structured Data (Schema.org) -->
      <script type="application/ld+json">
        {
          "@context": "https://schema.org",
          "@graph": [
            {
              "@type": "Organization",
              "name": "KongSwap",
              "url": "https://kongswap.io",
              "logo": "https://kongswap.io/images/kong_logo.png",
              "sameAs": [
                "https://x.com/kongswapx",
                "https://t.me/kong_swap",
                "https://www.tiktok.com/@kongswapx",
                "https://youtube.com/@kongswapx",
                "https://www.instagram.com/kongswapx",
                "https://oc.app/community/maceh-niaaa-aaaaf-bm37q-cai"
              ]
            },
            {
              "@type": "WebSite",
              "name": "KongSwap",
              "url": "https://kongswap.io"
            }
          ]
        }
      </script>
  <!-- Google tag (gtag.js) -->
  <script
    async
    src="https://www.googletagmanager.com/gtag/js?id=G-JW23W2WSPE"
  ></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() {
      dataLayer.push(arguments);
    }
    gtag("js", new Date());

    gtag("config", "G-JW23W2WSPE");
    
  </script>

  <body data-sveltekit-preload-data="tap">
    <!-- Google Tag Manager (noscript) -->
    <noscript
      ><iframe
        src="https://www.googletagmanager.com/ns.html?id=GTM-5QP57VNQ"
        height="0"
        width="0"
        style="display: none; visibility: hidden"
      ></iframe
    ></noscript>
    <!-- End Google Tag Manager (noscript) -->
    <div style="display: contents">%sveltekit.body%</div>
    <div id="portal-target"></div>
  </body>


</html>